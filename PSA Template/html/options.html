<html>

<head>
	<meta charset="utf-8">
	<title translate>optionsTitle</title>

	<link rel="stylesheet" href="../node_modules/materialize-css/dist/css/materialize.css">
	<link rel="stylesheet" href="../node_modules/material-icons/iconfont/material-icons.css">
	<link rel="stylesheet" href="../css/options.css">
</head>

<body>

	<!-- header -->

	<div class="navbar-fixed">
		<nav>
			<div class="nav-wrapper red">
				<div class="container">
					<div class="row">
						<div class="col">
							<div class="brand-logo">Options</div>
						</div>
						<div class="col right">
							<div class="input-field inline input-white">
								<select id='language'>
									<option value="fr" translate>fr</option>
									<option value="en" translate>en</option>
								</select>
							</div>
						</div>
						<div class="col right">
							<p class="input-label" translate>language</p>
						</div>
					</div>
				</div>
			</div>
		</nav>
	</div>

	<!-- body -->

	<div class="container">
		<div id="templatesBody" class="row">
		</div>
	</div>

	<div class="fixed-action-btn">
		<a data-target="template-edit"
			class="modal-trigger btn-floating btn-large waves-effect waves-circle waves-light red"
			id="addTemplateBtn"><i class="material-icons">add</i></a>
	</div>

	<!-- modal -->

	<div class="modal " id="template-edit">
		<div class="modal-content">
			<form id="template-form">
				<div class="row">
					<div class="col s12 input-field">
						<input id="name" name="name" type="text">
						<label class="active" for="name" translate>name</label>
					</div>
				</div>
				<h5 translate>projects</h5>
				<div class="row" id="projectForm"></div>
				<div class="row">
					<div class="right">
						<a class="btn-floating waves-effect waves-light blue lighten-1 material-icons"
							id="addProjectBtn"><i class="material-icons">add</i></a>
					</div>
				</div>
				<h5 translate>activities</h5>
				<div class="row" id="categoriesForm"></div>
				<div class="row">
					<div class="right">
						<a class="btn-floating waves-effect waves-light blue lighten-1" id="addCategoriesBtn"><i
								class="material-icons">add</i></a>
					</div>
				</div>
				<table class="striped" id="locationTable">
				</table>
			</form>
		</div>
		<div class="modal-footer">
			<a class="modal-close waves-effect waves-green btn green" id="saveTemplateBtn" translate>save</a>
			<a class="modal-close waves-effect waves-red btn red cancel" translate>cancel</a>
		</div>
	</div>

	<div style="text-align: center;">
		PSA Template V2 - Contrib on <a href="https://github.com/DeschampsJeremy/psa-template" target="_blank">https://github.com/DeschampsJeremy/psa-template</a>
	</div>
	<div style="text-align: center;">
		Original project - PSA Template <a href="https://github.com/cgi-paris-fs-comex/psa-template" target="_blank">https://github.com/cgi-paris-fs-comex/psa-template</a>
	</div>

</body>

<!-- mustache -->

<script id="template-element" type="text/template">
	<div class="col s12 m4">
		<div class="card blue-grey darken-1">
			<div class="card-content white-text">
				<span class="card-title">{{name}}</span>
			</div>
			<div class="card-action">
				<a href="#" class="modal-trigger edit" data-target="template-edit"><i class="material-icons">edit</i></a>
				<a href="#" class="delete"><i class="material-icons">delete</i></a>
				<a href="#" class="duplicate"><i class="material-icons">filter_none</i></a>
			</div>
		</div>
	</div>
</script>

<script id="project-element" type="text/template">
	<div>
		<div class="col s3 input-field">
			<input type="text" class="validate name" id="projects._{{id}}.name" name="projects._{{id}}.name">
			<label class="active" for="projects._{{id}}.name" translate>name</label>
		</div>
		{{#days}}
		<div class="col s1 input-field">
			<input type="text" class="day" id="projects._{{id}}.days.{{num}}" name="projects._{{id}}.days.{{num}}">
			<label class="active" for="projects._{{id}}.days.{{num}}" translate>{{label}}</label>
		</div>
		{{/days}}
		<div class="col s2 input-field">
			<a class="waves-effect waves-light white-text red lighten-1 btn delete"><i class="material-icons">delete</i></a>
			<a class="waves-effect waves-light white-text lighten-1 btn duplicate"><i class="material-icons">filter_none</i></a>
		</div>
	</div>
</script>

<script id="category-element" type="text/template">
	<div>
		<div class="col s3 input-field">
			<input type="text" id="categories._{{id}}.name" name="categories._{{id}}.name" class="name autocomplete">
			<label for="categories._{{id}}.name" translate>category</label>
		</div>
		{{#days}}
		<div class="col s1 input-field">
			<input type="text" class="day" id="categories._{{id}}.days.{{num}}" name="categories._{{id}}.days.{{num}}">
			<label class="active" for="categories._{{id}}.days.{{num}}" translate>{{label}}</label>
		</div>
		{{/days}}
		<div  class="col s2 input-field">
			<a class="waves-effect waves-light white-text red lighten-1 btn delete"><i class="material-icons">delete</i></a>
			<a class="waves-effect waves-light white-text lighten-1 btn duplicate"><i class="material-icons">filter_none</i></a>
		</div>
	</div>
</script>

<script id="locations-element" type="text/template">
	<thead>
		<tr>
			<th></th>
			{{#days}}
			<th translate>{{label}}</th>
			{{/days}}
		</tr>
	</thead>
	<tbody>
		<tr>
			<td translate>morning</td>
			{{#days}}
			<td>
				<select name="locations.morning.{{num}}" class="morning">
					{{#locations}}
					<option value="{{value}}">{{label}}</option>
					{{/locations}}
				</select>
			</td>
			{{/days}}
		</tr>
		<tr>
			<td translate>afternoon</td>
			{{#days}}
			<td>
				<select name="locations.afternoon.{{num}}" class="afternoon">
					{{#locations}}
					<option value="{{value}}">{{label}}</option>
					{{/locations}}
				</select>
			</td>
			{{/days}}
		</tr>
	</tbody>
</script>

<!-- scripts -->

<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src="../node_modules/materialize-css/dist/js/materialize.js"></script>
<script src="../node_modules/mustache/mustache.js"></script>

<script src="../js/data.js"></script>
<script src="../js/utils.js"></script>
<script src="../js/storage-service.js"></script>
<script src="../js/template-service.js"></script>
<script src="../js/options.js"></script>

</html>